#!/usr/bin/env sh

# Function to handle errors
handle_error() {
    echo "âŒ $1 failed!"
    exit 1
}

echo "ğŸ§ª Running all tests..."
npm test -- --watchAll=false --coverage || handle_error "Tests"

echo "ğŸ” Running type check..."
tsc --noEmit || handle_error "Type check"

echo "ğŸ—ï¸ Verifying production build..."
npm run build || handle_error "Production build"

echo "ğŸ“š Building and checking Storybook..."
npm run build:storybook || handle_error "Storybook build"

echo "âœ¨ All pre-push checks passed successfully!"
echo "ğŸš€ Pushing to remote..." 